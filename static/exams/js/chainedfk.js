!function(e){chainedfk=function(){return{fireEvent:function(e,t){if(document.createEventObject){var n=document.createEventObject();return e.fireEvent("on"+t,n)}var n=document.createEvent("HTMLEvents");return n.initEvent(t,!0,!0),!e.dispatchEvent(n)},dismissRelatedLookupPopup:function(e,t){var n=windowname_to_id(e.name),i=document.getElementById(n);-1!=i.className.indexOf("vManyToManyRawIdAdminField")&&i.value?i.value+=","+t:i.value=t,fireEvent(i,"change"),e.close()},fill_field:function(t,n,i,o,a,d){if(o=o+"/"+t+"/",!t||""==t){var r='<option value="">'+a+"</option>";return e(i).html(r),e(i+" option:first").attr("selected","selected"),void e(i).trigger("change")}e.getJSON(o,function(t){for(var o='<option value="">'+a+"</option>",r=0;r<t.length;r++)o+='<option value="'+t[r].value+'">'+t[r].display+"</option>";var l=e(i).outerWidth();e(i).html(o),-1!=navigator.appVersion.indexOf("MSIE")&&e(i).width(l+"px"),e(i+" option:first").attr("selected","selected"),n&&e(i+' option[value="'+n+'"]').attr("selected","selected"),d&&1==t.length&&e(i+' option[value="'+t[0].value+'"]').attr("selected","selected"),e(i).trigger("change")})},init:function(t,n,i,o,a,d){var r=this.fill_field;if(!e(t).hasClass("chained")){var l=e(t).val();r(l,o,i,n,a,d)}if(e(t).change(function(){var t=e(i).val(),o=e(this).val();r(o,t,i,n,a,d)}),"undefined"!=typeof dismissAddAnotherPopup){var c=dismissAddAnotherPopup;dismissAddAnotherPopup=function(n,i,o){c(n,i,o),windowname_to_id(n.name)==t&&e(t).change()}}}}}()}(jQuery||django.jQuery);